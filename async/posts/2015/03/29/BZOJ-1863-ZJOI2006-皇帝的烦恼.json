{"tags":[{"name":"二分","permalink":"http://lzy-foenix.github.io/tags/二分/","url":"\\async\\tags\\二分.json","count":2}],"categories":[{"name":"分治","permalink":"http://lzy-foenix.github.io/categories/分治/","url":"\\async\\categories\\分治.json","count":2}],"url":"\\async\\posts\\2015\\03\\29\\BZOJ-1863-ZJOI2006-皇帝的烦恼.json","date":1427633990000,"path":{"year":2015,"month":3,"day":29,"name":"BZOJ-1863-ZJOI2006-皇帝的烦恼"},"title":"BZOJ-1863[ZJOI2006]皇帝的烦恼","permalink":"http://lzy-foenix.github.io/2015/03/29/BZOJ-1863-ZJOI2006-皇帝的烦恼/","content":"<hr>\n<a id=\"more\"></a>\n<h3 id=\"题解：\"><a href=\"#题解：\" class=\"headerlink\" title=\"题解：\"></a>题解：</h3><p>先二分一个答案，然后dp，(貌似贪心可以过很多点…)  设二分的答案为K，然后维护两个东西l[i],r[i],分别表示第i个妃子可以最少和最多与1号妃子有的相同的颜色数。如果l[n]&gt;0则K不可行。（想想为什么~）恩，<br>然后r[i]=min(a[i],a[1]-l[i-1])<br>     l[i]=max(a[1]-r[i-1]+a[i-1]+a[i]-K,0)</p>\n<h3 id=\"代码：\"><a href=\"#代码：\" class=\"headerlink\" title=\"代码：\"></a>代码：</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;cstdio&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;algorithm&gt;</span></span></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> MAXN=<span class=\"number\">20005</span>;</div><div class=\"line\"><span class=\"keyword\">int</span> N,a[MAXN],Min[MAXN],Max[MAXN],l=<span class=\"number\">1</span>,r;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">Judge</span><span class=\"params\">(<span class=\"keyword\">int</span> mid)</span></span>&#123;</div><div class=\"line\">\tMax[<span class=\"number\">1</span>]=Min[<span class=\"number\">1</span>]=a[<span class=\"number\">1</span>];</div><div class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">2</span>;i&lt;=N;i++)&#123;</div><div class=\"line\">\t\tMax[i]=min(a[i],a[<span class=\"number\">1</span>]-Min[i<span class=\"number\">-1</span>]);</div><div class=\"line\">\t\tMin[i]=max(a[<span class=\"number\">1</span>]+a[i<span class=\"number\">-1</span>]+a[i]-Max[i<span class=\"number\">-1</span>]-mid,<span class=\"number\">0</span>);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"keyword\">return</span> Min[N]==<span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">\"%d\"</span>,&amp;N);</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">1</span>;i&lt;=N;i++)&#123;</div><div class=\"line\">        <span class=\"built_in\">scanf</span>(<span class=\"string\">\"%d\"</span>,&amp;a[i]); r=max(r,a[i]+a[i<span class=\"number\">-1</span>]);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\tl=r; r*=<span class=\"number\">2</span>;</div><div class=\"line\">    <span class=\"keyword\">while</span>(l&lt;=r)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">int</span> mid=(l+r)&gt;&gt;<span class=\"number\">1</span>;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span>(Judge(mid))r=mid<span class=\"number\">-1</span>;</div><div class=\"line\">\t\t<span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"%d\\n\"</span>,l);</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"}