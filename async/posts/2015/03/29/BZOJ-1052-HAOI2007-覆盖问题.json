{"tags":[{"name":"二分","permalink":"http://lzy-foenix.github.io/tags/二分/","url":"\\async\\tags\\二分.json","count":2}],"categories":[{"name":"分治","permalink":"http://lzy-foenix.github.io/categories/分治/","url":"\\async\\categories\\分治.json","count":2}],"url":"\\async\\posts\\2015\\03\\29\\BZOJ-1052-HAOI2007-覆盖问题.json","date":1427632841000,"path":{"year":2015,"month":3,"day":29,"name":"BZOJ-1052-HAOI2007-覆盖问题"},"title":"BZOJ-1052[HAOI2007]覆盖问题","permalink":"http://lzy-foenix.github.io/2015/03/29/BZOJ-1052-HAOI2007-覆盖问题/","content":"<hr>\n<a id=\"more\"></a>\n<h3 id=\"题解：\"><a href=\"#题解：\" class=\"headerlink\" title=\"题解：\"></a>题解：</h3><p>一眼就看出是二分了= =。然后就是不会打- -，<br>感觉这道题目题意还是很好的，平面上有n个点，用3个平行于坐标轴的大小相同的正方形去覆盖所有的点。问这种正方形的边长的最小值。<br> 首先我们二分答案。设为L然后就是怎么check的问题了。<br>先讲做法吧。首先对于所有的点，求出它的左右上下边界,为（xmin,xmax,ymin,max）;然后构出一个矩形。（左上角为（xmin,ymin））如下图：<img src=\"http://i2.tietuku.com/d7f4e6aaceb13737.png\" alt=\"\"><br>恩，然后我们有一个结论。必定有一个正方形的顶点与这个矩形的4个顶点之一重合。这是为什么呢？<br>因为每个矩形每个边界上都至少有一个点，而我们只有三个正方形，所以必定有一个正方形横跨了两条对边。这时我们将它平移到顶点上一定不会变差，因为它会多覆盖一条邻边。恩，然后对于每一步，覆盖哪个点有4种情况。所以我们可以dfs,反正也只有三层。所以时间复杂度为O(log(1e+9)<em>n</em>43);</p>\n<h3 id=\"代码：\"><a href=\"#代码：\" class=\"headerlink\" title=\"代码：\"></a>代码：</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;cstdio&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> MAXN=<span class=\"number\">20005</span>;</div><div class=\"line\"><span class=\"keyword\">int</span> a[MAXN],b[MAXN],X1,X2,Y1,Y2;</div><div class=\"line\"><span class=\"keyword\">int</span> N,c[<span class=\"number\">4</span>],d[<span class=\"number\">4</span>],e[<span class=\"number\">4</span>],f[<span class=\"number\">4</span>],g[<span class=\"number\">4</span>],h[<span class=\"number\">4</span>],p[<span class=\"number\">4</span>],q[<span class=\"number\">4</span>];</div><div class=\"line\"><span class=\"keyword\">int</span> dx[<span class=\"number\">4</span>]=&#123;<span class=\"number\">1</span>,<span class=\"number\">-1</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>&#125;;</div><div class=\"line\"><span class=\"keyword\">int</span> dy[<span class=\"number\">4</span>]=&#123;<span class=\"number\">1</span>,<span class=\"number\">-1</span>,<span class=\"number\">-1</span>,<span class=\"number\">1</span>&#125;;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">inline</span> <span class=\"keyword\">bool</span> <span class=\"title\">Judge1</span><span class=\"params\">(<span class=\"keyword\">int</span> k,<span class=\"keyword\">int</span> i)</span></span>&#123;</div><div class=\"line\">\t<span class=\"keyword\">return</span> (a[k]&gt;=min(c[i],e[i]) &amp;&amp; a[k]&lt;=max(c[i],e[i]) &amp;&amp;</div><div class=\"line\">\t\t\tb[k]&gt;=min(d[i],f[i]) &amp;&amp; b[k]&lt;=max(d[i],f[i]));</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">inline</span> <span class=\"keyword\">bool</span> <span class=\"title\">Judge2</span><span class=\"params\">(<span class=\"keyword\">int</span> k,<span class=\"keyword\">int</span> i)</span></span>&#123;</div><div class=\"line\">\t<span class=\"keyword\">return</span> (a[k]&gt;=min(g[i],p[i]) &amp;&amp; a[k]&lt;=max(g[i],p[i]) &amp;&amp;</div><div class=\"line\">\t\t\tb[k]&gt;=min(h[i],q[i]) &amp;&amp; b[k]&lt;=max(h[i],q[i]));</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Work</span><span class=\"params\">(<span class=\"keyword\">int</span> l,<span class=\"keyword\">int</span> r)</span></span>&#123;</div><div class=\"line\">\t<span class=\"keyword\">int</span> i,j,k;</div><div class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;r)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">int</span> mid=(l+r)&gt;&gt;<span class=\"number\">1</span>;</div><div class=\"line\">\t    <span class=\"keyword\">for</span>(i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++)&#123;</div><div class=\"line\">\t\t\t\te[i]=c[i]+mid*dx[i],f[i]=d[i]+mid*dy[i];</div><div class=\"line\">\t\t\t\tg[<span class=\"number\">0</span>]=h[<span class=\"number\">0</span>]=<span class=\"number\">1</span>&lt;&lt;<span class=\"number\">30</span>,g[<span class=\"number\">1</span>]=h[<span class=\"number\">1</span>]=-g[<span class=\"number\">0</span>];</div><div class=\"line\">\t\t\t\t<span class=\"keyword\">for</span>(k=<span class=\"number\">1</span>;k&lt;=N;k++)</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span>(!Judge1(k,i))&#123;</div><div class=\"line\">\t\t\t\t\t\tg[<span class=\"number\">0</span>]=min(g[<span class=\"number\">0</span>],a[k]); g[<span class=\"number\">1</span>]=max(g[<span class=\"number\">1</span>],a[k]);</div><div class=\"line\">\t\t\t\t\t\th[<span class=\"number\">0</span>]=min(h[<span class=\"number\">0</span>],b[k]); h[<span class=\"number\">1</span>]=max(h[<span class=\"number\">1</span>],b[k]);</div><div class=\"line\">\t\t\t\t\t&#125;</div><div class=\"line\">\t\t\t\tg[<span class=\"number\">2</span>]=g[<span class=\"number\">0</span>],g[<span class=\"number\">3</span>]=g[<span class=\"number\">1</span>],h[<span class=\"number\">2</span>]=h[<span class=\"number\">1</span>],h[<span class=\"number\">3</span>]=h[<span class=\"number\">0</span>];</div><div class=\"line\">\t\t\t\t<span class=\"keyword\">for</span>(j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">4</span>;j++)&#123;</div><div class=\"line\">\t\t\t\t\tp[j]=g[j]+mid*dx[j],q[j]=h[j]+mid*dy[j];</div><div class=\"line\">\t\t\t\t\tX1=Y1=<span class=\"number\">1</span>&lt;&lt;<span class=\"number\">30</span>,X2=Y2=-X1;</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> k=<span class=\"number\">1</span>;k&lt;=N;k++)</div><div class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">if</span>(!Judge1(k,i) &amp;&amp; !Judge2(k,j))&#123;</div><div class=\"line\">\t\t\t\t\t\t\tX1=min(X1,a[k]); X2=max(X2,a[k]);</div><div class=\"line\">\t\t\t\t\t\t\tY1=min(Y1,b[k]); Y2=max(Y2,b[k]);</div><div class=\"line\">\t\t\t\t\t\t&#125;</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span>(max(X2-X1,Y2-Y1)&lt;=mid) &#123;j=<span class=\"number\">6</span>; <span class=\"keyword\">break</span>;&#125;</div><div class=\"line\">\t\t\t\t&#125;</div><div class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(j==<span class=\"number\">6</span>) &#123;i=<span class=\"number\">6</span>; <span class=\"keyword\">break</span>;&#125;</div><div class=\"line\">\t\t\t&#125;</div><div class=\"line\">\t\t\t<span class=\"keyword\">if</span>(i==<span class=\"number\">6</span>)r=mid; <span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"%d\\n\"</span>,l);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">work</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    c[<span class=\"number\">0</span>]=d[<span class=\"number\">0</span>]=(<span class=\"number\">1</span>&lt;&lt;<span class=\"number\">30</span>);c[<span class=\"number\">1</span>]=d[<span class=\"number\">1</span>]=-c[<span class=\"number\">0</span>];</div><div class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">1</span>;i&lt;=N;i++)&#123;</div><div class=\"line\">        <span class=\"built_in\">scanf</span>(<span class=\"string\">\"%d%d\"</span>,&amp;a[i],&amp;b[i]);</div><div class=\"line\">        c[<span class=\"number\">0</span>]=min(c[<span class=\"number\">0</span>],a[i]); d[<span class=\"number\">0</span>]=min(d[<span class=\"number\">0</span>],b[i]);</div><div class=\"line\">\t\tc[<span class=\"number\">1</span>]=max(c[<span class=\"number\">1</span>],a[i]); d[<span class=\"number\">1</span>]=max(d[<span class=\"number\">1</span>],b[i]);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\tc[<span class=\"number\">2</span>]=c[<span class=\"number\">0</span>],c[<span class=\"number\">3</span>]=c[<span class=\"number\">1</span>],d[<span class=\"number\">2</span>]=d[<span class=\"number\">1</span>],d[<span class=\"number\">3</span>]=d[<span class=\"number\">0</span>];</div><div class=\"line\">\t<span class=\"keyword\">int</span> r=max(c[<span class=\"number\">1</span>]-c[<span class=\"number\">0</span>],d[<span class=\"number\">1</span>]-d[<span class=\"number\">0</span>]),l=<span class=\"number\">1</span>;</div><div class=\"line\">\tWork(l,r);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t<span class=\"built_in\">scanf</span>(<span class=\"string\">\"%d\"</span>,&amp;N);</div><div class=\"line\">\twork();</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"}